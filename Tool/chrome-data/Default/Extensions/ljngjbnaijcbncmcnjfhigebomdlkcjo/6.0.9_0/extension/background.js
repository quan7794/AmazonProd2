!function(e){var r={};function __webpack_require__(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,__webpack_require__),n.l=!0,n.exports}__webpack_require__.m=e,__webpack_require__.c=r,__webpack_require__.d=function(e,r,t){__webpack_require__.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:t})},__webpack_require__.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.t=function(e,r){if(1&r&&(e=__webpack_require__(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(__webpack_require__.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var n in e)__webpack_require__.d(t,n,function(r){return e[r]}.bind(null,n));return t},__webpack_require__.n=function(e){var r=e&&e.__esModule?function getDefault(){return e.default}:function getModuleExports(){return e};return __webpack_require__.d(r,"a",r),r},__webpack_require__.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=2)}({2:function(e,r,t){"use strict";var n=/^chrome-devtools:\/\//,o={},i=!0,_={},a=chrome||browser,c="",messageToContentScript=function(e){chrome.tabs.sendMessage(e.tabId,e)};function openPanel(){browser.windows.create({url:a.runtime.getURL("recorder/index.html"),type:"popup",height:600,width:400}).then((function(e){_[e.id]=e,c=e.id,browser.tabs.sendMessage(c,{type:"recorderId",recorderId:e}),browser.tabs.query({active:!0,windowId:e.id,status:"complete"}).then((function(r){1!=r.length&&(_[e.id]=e.id)}))})).catch((function(e){console.log(e)}))}chrome.runtime.onConnect.addListener((function(e){var extensionListener=function(r,t,n){if(r&&"DeattachRecorder"===r.message&&(i=!0),"init"!=r.name)if("active"==r.name)window.chrome.windows.update(c,{focused:!0});else if("openRecorder"==r.name){if(!i)return void window.chrome.windows.update(c,{focused:!0});openPanel()}else messageToContentScript(r);else o[r.tabId]=e};e.onMessage.addListener(extensionListener),e.onDisconnect.addListener((function(e){e.onMessage.removeListener(extensionListener);for(var r=Object.keys(o),t=0,n=r.length;t<n;t++)if(o[r[t]]==e){delete o[r[t]];break}}))})),chrome.runtime.onMessage.addListener((function(e,r,t){if(console.log(e,"ye chalOOOO"),e&&"AttachRecorder"===e.message&&(i=!1),e&&"DeattachRecorder"===e.message&&(i=!0),r.tab)if(n.test(r.tab.url)){var _;if("shown"===e.event||"hidden"===e.event)(_=r.tab.id)in o&&o[_].postMessage(e);messageToContentScript(e)}else{var _;(_=r.tab.id)in o&&o[_].postMessage(e)}return!0}))}});