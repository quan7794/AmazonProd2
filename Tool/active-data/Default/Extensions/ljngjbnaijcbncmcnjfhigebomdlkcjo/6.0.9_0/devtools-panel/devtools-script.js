!function(e){var t={};function __webpack_require__(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,__webpack_require__),o.l=!0,o.exports}__webpack_require__.m=e,__webpack_require__.c=t,__webpack_require__.d=function(e,t,n){__webpack_require__.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},__webpack_require__.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.t=function(e,t){if(1&t&&(e=__webpack_require__(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(__webpack_require__.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)__webpack_require__.d(n,o,function(t){return e[t]}.bind(null,o));return n},__webpack_require__.n=function(e){var t=e&&e.__esModule?function getDefault(){return e.default}:function getModuleExports(){return e};return __webpack_require__.d(t,"a",t),t},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=0)}([function(e,t){var n=!1,o=!1,l="Anonymous",a=[],c=[],r=[],s=[],i=chrome.runtime.connect({name:"devtools-page"}),d="1. Open that webpage whose xpaths need to verify.\r\n2. Click on Editor icon.\r\n3. Update the driver command.\r\n4. Paste the selectors page or complete script in the box.\r\n5. Click on Ok.\r\n6. CP will show all the xpaths with their occurrence.\r\n7. You can also import/export the selectors file.",u=window.chrome.devtools.panels.themeName,p="grey";"dark"===u?(document.querySelector("#cssFile").setAttribute("href","devtoolsForDarkTheme.css"),p="orange"):(document.querySelector("#cssFile").setAttribute("href","devtoolsForDefaultTheme.css"),p="grey");var m=window.navigator.userAgent.includes("Mac")?"mac":"windows",h=window.navigator.language,y="-18px",v=document.querySelectorAll(".attributeChoice");if(m.includes("mac")){if(document.querySelector(".selector-edit-box").style.width="calc(100% - 88px)",document.querySelector(".attributeChoice.user").style.width="calc(100% - 342px)",document.querySelector("label").style.margin="4px 6px 3px 4px",document.querySelector(".boxTitle").style.margin="0px 2px 2px 0px",document.querySelector(".boxTitle").style.padding="3px",h.includes("zh")){document.querySelector(".selector-edit-box").style.width="calc(100% - 94px)";for(var g=0;g<5;g++)document.querySelectorAll(".selector-type")[g].style.width="63px",document.querySelectorAll(".box.jsSelector")[g].style.width="calc(100% - 150px)"}y="-18px",document.querySelector(".toggle-btn").style.margin="-3px 0px 0px 6px",document.querySelector(".toggle-btn").style.lineHeight="30px",document.querySelectorAll(".attributeChoice");for(var g=0;g<v.length-1;g++)v[g].style.verticalAlign="initial";document.querySelector(".uploadModalIcon").innerText="click to upload downloaded xpath xls file."}else{document.querySelector(".selector-edit-box").style.width="calc(100% - 85px)",document.querySelector(".attributeChoice.user").style.width="calc(100% - 352px)",document.querySelector("label").style.margin="4px 0px 3px 6px",document.querySelector(".boxTitle").style.margin="0px 0px 2px 0px",document.querySelector(".boxTitle").style.padding="0px",y="-16px",document.querySelector(".toggle-btn").style.margin="-6px 0px 0px 6px",document.querySelector(".toggle-btn").style.lineHeight="29px";for(var g=0;g<v.length-1;g++)v[g].style.verticalAlign="middle";document.querySelector(".uploadModalIcon").innerText="click to upload downloaded xpath csv file."}var f=!1,showTotalResults=function(e){var t=document.querySelector(".jsTotalCount"),n=document.querySelector(".boxTitle").value,o=document.querySelector(".jsXpath").value;try{if(e.includes("blank")||1===e.length&&N.className.includes("red")||!o)t.className+=" hideCountMsg";else{t.classList.remove("hideCountMsg");var l=document.querySelector(".jsXpath").value;e.includes("wrongXpath")?t.textContent="Invalid pattern.":0===e.length?t.textContent=e.length+" element matching.":"/"===l||"."===l||"/."===l?t.textContent="It's default DOM.":"//."===l?t.textContent=e.length+" matching all nodes.":1===e.length?t.textContent=e.length+" element matching.":t.textContent=e.length+" elements matching."}}catch(e){}f=!1},highlighter=function(e){var t=document.querySelector(".boxTitle").value.toLocaleLowerCase(),n=document.querySelector(".jsXpath").value;t=t.includes("selectors")&&!document.querySelector(".jsXpath").value||t.includes("xpath")||n.charAt(0).includes("/")?"xpath":"css";var o=e.getAttribute(t);i.postMessage({name:t,tabId:chrome.devtools.inspectedWindow.tabId,index:o})},removeHighlighter=function(e){var t=document.querySelector(".boxTitle").value.toLocaleLowerCase(),n=document.querySelector(".jsXpath").value;t=t.includes("selectors")&&!n||t.includes("xpath")||n.charAt(0).includes("/")?"xpath":"css";var o=e.getAttribute(t);i.postMessage({name:t+"-remove",tabId:chrome.devtools.inspectedWindow.tabId,index:o})},showAllMatchingNode=function(e){var t=document.querySelector("#chroPathEleContainer"),n=document.querySelector(".boxTitle").value.toLocaleLowerCase(),o=document.querySelector(".jsXpath").value;if(n=n.includes("xpath")||n.includes("selectors")&&!o||o.charAt(0).includes("/")?"xpath":"css",t.innerHTML="","blank"!=e&&e[0].includes("<")){for(var l=1;l<=e.length;l++)if(e[l-1]=e[l-1]?e[l-1]:"",e[l-1]){var a=e[l-1],c="",r,s;(a=a.replace(/(\r\n|\n|\r)/gm,"")).match(/^<td/)||a.match(/^<th/)?c="tr":a.match(/^<tr/)?c="tbody":a.match(/^<tbody/)?c="table":a.match(/^<body/)?(a=a.replace("<body","<bodytag").replace("body>","bodytag>"),c="li"):c="li",(r=createElement(c)).innerHTML=a,(s=convertToTreeStructure(r,"parent closed")).setAttribute(n,l),t.appendChild(s),s.onmouseover=function(){highlighter(this)},s.onmouseout=function(){removeHighlighter(this)}}}else for(var l=1;l<=e.length;l++){var r,s;(r=createElement(c)).innerHTML=e[l-1],(s=convertToTreeStructure(r,"parent closed")).setAttribute(n,l),t.appendChild(s)}},createDummyElement=function(){var e="<nav></nav>",t=createElement("div");t.innerHTML=e;var n=document.querySelector(".result"),o=convertToTreeStructure(t,"parent closed",e);n.appendChild(o)},selectElements=function(e,t){attributeChoicesOption();var n=[e,document.querySelector(".jsXpath").value,t,""+x];n=t?[e,document.querySelector(".jsXpath").value,t,""+x]:[e=e.toLowerCase().includes("selectors")?"relXpath":e,document.querySelector(".jsSelector."+e.substring(0,3)).getAttribute(e.toLowerCase()),!1,""+x],clearElements(),i.postMessage({name:"highlight-element",tabId:chrome.devtools.inspectedWindow.tabId,xpath:n})},C="xyz";function appendElementsCount(e){let t=document.getElementById(e.id),n=nodesColor(e.elementCount);t.textContent=`${e.elementCount}`,t.classList.add(n)}function updateRecorderAttr(){var e=b.checked,t=S.checked,n=k.checked,o=w.checked,l=L.checked;i.postMessage({name:"recorderAttr",tabId:chrome.devtools.inspectedWindow.tabId,data:{idChecked:e,classChecked:t,nameChecked:n,placeholderChecked:o,textChecked:l,placeholderText:T.value}})}function updateCPAttributes(e){b.checked=e.idChecked,S.checked=e.classChecked,k.checked=e.nameChecked,w.checked=e.placeholderChecked,L.checked=e.textChecked,chrome.storage.local.set({classChecked:e.classChecked},(function(){})),chrome.storage.local.set({nameChecked:e.nameChecked},(function(){})),chrome.storage.local.set({placeholderChecked:e.placeholderChecked},(function(){})),chrome.storage.local.set({idChecked:e.idChecked},(function(){})),chrome.storage.local.set({textCheckboxChecked:e.textChecked},(function(){}))}function setElementContainerHeight(){for(var e=98,t=0,n=document.querySelectorAll(".selectorsContainer"),o=0;o<n.length;o++)!n[o].style.display.includes("none")&&t<100&&(t+=25);document.querySelector("#chroPathEleContainer").style.height="calc(100% - "+(t+e)+"px)",document.querySelector(".selectorsBlock").style.height=t+"px"}function generateAbsXpath(){var e=document.querySelector(".boxTitle").value.toLowerCase(),t="",n="",o=chrome.devtools.inspectedWindow.eval("generateAbsXpath($0)",{useContentScriptContext:!0},(function(o){var l=document.querySelector(".jsSelector.abs"),a=document.querySelector(".selectorsContainer.absXpath");void 0===o?(t="This element might be inside iframe from different src. Currently ChroPath doesn't support for them.",n="0",e.includes("abs")||(a.style.display="none")):(t=o[0],n=o[1]),l.setAttribute("absXpath",t),l.setAttribute("title",t),t=J.className.includes("inactive")?t:addPreCommandInSelector(t),l.innerText=t;var c=document.querySelector(".numberOfMatchingNodes.absXpath");c.textContent=n,c.style.backgroundColor="1"==n?"#15b515":"0"==n?"#ff0000":"#f78f06",e.includes("abs")&&(selectElements(e,!1),setElementContainerHeight(),document.querySelector(".numberOfMatchingNodes.absXpath").parentElement.style.width="26px"),"0"!=n||e.includes("abs")||(a.style.display="none")}))}function generateCss(){var e=document.querySelector(".boxTitle").value,t="",n=chrome.devtools.inspectedWindow.eval("generateCSS($0)",{useContentScriptContext:!0},(function(n){var o=document.querySelector(".jsSelector.css"),l=document.querySelector(".selectorsContainer.cssSelector"),a=document.querySelector(".numberOfMatchingNodes.cssSelector");l.style.display="",void 0===n||0==n[1]?(o.textContent="This element might be pseudo element/comment/inside iframe from different src. Currently ChroPath doesn't support for them.",a.textContent="0",e.includes("css")||(l.style.display="none")):(o.setAttribute("css",n[0]),o.setAttribute("title",n[0]),n[0]=J.className.includes("inactive")?n[0]:addPreCommandInSelector(n[0]),n[0]=n[0].includes("By.xpath")?n[0].replace("By.xpath","By.cssSelector"):n[0].includes("By(xpath")?n[0].replace("By(xpath","By(cssSelector"):n[0].includes("ByXPath")?n[0].replace("ByXPath","ByCssSelector"):n[0].includes("XPath")?n[0].replace("XPath","CssSelector"):n[0].includes("Xpath")?n[0].replace("Xpath","CssSelector"):n[0].includes("XPATH")?n[0].replace("XPATH","CSSSELECTOR"):n[0].replace("xpath","cssSelector"),o.innerText=n[0],t=n[1],a.textContent=t,a.style.backgroundColor="1"==t?"#15b515":"0"==t?"#ff0000":"#f78f06",e.includes("css")&&(selectElements(e,!1),setElementContainerHeight(),document.querySelector(".numberOfMatchingNodes.cssSelector").parentElement.style.width="26px"),"0"!=t||e.includes("css")||(l.style.display="none"))}))}function generateId(){var e=chrome.devtools.inspectedWindow.eval("generateId($0)",{useContentScriptContext:!0},(function(e){var t=document.querySelector(".jsSelector.id"),n=document.querySelector(".selectorsContainer.id");if(n.style.display="",void 0===e||0===e[1])n.style.display="none";else{t.setAttribute("selector",e[0]),t.setAttribute("title",e[0]),e[0]=J.className.includes("inactive")?e[0]:addPreCommandInSelector(e[0]),e[0]=e[0].includes("By.xpath")?e[0].replace("By.xpath","By.id"):e[0].includes("By(xpath")?e[0].replace("By(xpath","By(id"):e[0].includes("ByXPath")?e[0].replace("ByXPath","ById"):e[0].includes("XPath")?e[0].replace("XPath","Id"):e[0].includes("Xpath")?e[0].replace("Xpath","Id"):e[0].includes("XPATH")?e[0].replace("XPATH","ID"):e[0].replace("xpath","id"),t.innerText=e[0];var o=e[1],l=document.querySelector(".numberOfMatchingNodes.id");l.textContent=o,l.style.backgroundColor="1"==o?"#15b515":"0"==o?"#ff0000":"#f78f06"}}))}function generateClassName(){var e=chrome.devtools.inspectedWindow.eval("generateClassName($0)",{useContentScriptContext:!0},(function(e){var t=document.querySelector(".jsSelector.className"),n=document.querySelector(".selectorsContainer.className");if(n.style.display="",void 0===e||0===e[1])n.style.display="none";else{t.setAttribute("selector",e[0]),t.setAttribute("title",e[0]),e[0]=J.className.includes("inactive")?e[0]:addPreCommandInSelector(e[0]),e[0]=e[0].includes("By.xpath")?e[0].replace("By.xpath","By.className"):e[0].includes("By(xpath")?e[0].replace("By(xpath","By(className"):e[0].includes("ByXPath")?e[0].replace("ByXPath","ByClassName"):e[0].includes("XPath")?e[0].replace("XPath","ClassName"):e[0].includes("Xpath")?e[0].replace("Xpath","ClassName"):e[0].includes("XPATH")?e[0].replace("XPATH","CLASSNAME"):e[0].replace("xpath","className"),t.innerText=e[0];var o=e[1],l=document.querySelector(".numberOfMatchingNodes.className");l.textContent=o,l.style.backgroundColor="1"==o?"#15b515":"0"==o?"#ff0000":"#f78f06"}}))}function generateName(){var e=chrome.devtools.inspectedWindow.eval("generateName($0)",{useContentScriptContext:!0},(function(e){var t=document.querySelector(".jsSelector.name"),n=document.querySelector(".selectorsContainer.name");if(n.style.display="",void 0===e||0===e.length)n.style.display="none";else{t.setAttribute("selector",e[0]),t.setAttribute("title",e[0]),e[0]=J.className.includes("inactive")?e[0]:addPreCommandInSelector(e[0]),e[0]=e[0].includes("By.xpath")?e[0].replace("By.xpath","By.name"):e[0].includes("By(xpath")?e[0].replace("By(xpath","By(name"):e[0].includes("ByXPath")?e[0].replace("ByXPath","ByName"):e[0].includes("XPath")?e[0].replace("XPath","Name"):e[0].includes("Xpath")?e[0].replace("Xpath","Name"):e[0].includes("XPATH")?e[0].replace("XPATH","NAME"):e[0].replace("xpath","name"),t.innerText=e[0];var o=e[1],l=document.querySelector(".numberOfMatchingNodes.name");l.textContent=o,l.style.backgroundColor="1"==o?"#15b515":"0"==o?"#ff0000":"#f78f06"}}))}function generateTagName(){var e=chrome.devtools.inspectedWindow.eval("generateTagName($0)",{useContentScriptContext:!0},(function(e){var t=document.querySelector(".jsSelector.tagName"),n=document.querySelector(".selectorsContainer.tagName");if(n.style.display="",void 0===e||0===e[1])n.style.display="none";else{t.setAttribute("selector",e[0]),t.setAttribute("title",e[0]),e[0]=J.className.includes("inactive")?e[0]:addPreCommandInSelector(e[0]),e[0]=e[0].includes("By.xpath")?e[0].replace("By.xpath","By.tagName"):e[0].includes("By(xpath")?e[0].replace("By(xpath","By(tagName"):e[0].includes("ByXPath")?e[0].replace("ByXPath","ByTagName"):e[0].includes("XPath")?e[0].replace("XPath","TagName"):e[0].includes("Xpath")?e[0].replace("Xpath","TagName"):e[0].includes("XPATH")?e[0].replace("XPATH","TAGNAME"):e[0].replace("xpath","tagName"),t.innerText=e[0];var o=e[1],l=document.querySelector(".numberOfMatchingNodes.tagName");l.textContent=o,l.style.backgroundColor="1"==o?"#15b515":"0"==o?"#ff0000":"#f78f06"}setElementContainerHeight(),setWidthOfSelectorHeader()}))}function generateLinkText(){var e=chrome.devtools.inspectedWindow.eval("generateLinkText($0)",{useContentScriptContext:!0},(function(e){var t=document.querySelector(".jsSelector.linkText"),n=document.querySelector(".selectorsContainer.linkText");if(n.style.display="",void 0===e||0===e[1])n.style.display="none";else{t.setAttribute("selector",e[0]),t.setAttribute("title",e[0]),e[0]=J.className.includes("inactive")?e[0]:addPreCommandInSelector(e[0]),e[0]=e[0].includes("By.xpath")?e[0].replace("By.xpath","By.linkText"):e[0].includes("By(xpath")?e[0].replace("By(xpath","By(linkText"):e[0].includes("ByXPath")?e[0].replace("ByXPath","ByLinkText"):e[0].includes("XPath")?e[0].replace("XPath","LinkText"):e[0].includes("Xpath")?e[0].replace("Xpath","LinkText"):e[0].includes("XPATH")?e[0].replace("XPATH","LINKTEXT"):e[0].replace("xpath","linkText"),t.innerText=e[0];var o=e[1],l=document.querySelector(".numberOfMatchingNodes.linkText");l.textContent=o,l.style.backgroundColor="1"==o?"#15b515":"0"==o?"#ff0000":"#f78f06"}}))}function generatePartialLinkText(){var e=chrome.devtools.inspectedWindow.eval("generatePartialLinkText($0)",{useContentScriptContext:!0},(function(e){var t=document.querySelector(".jsSelector.partialLinkText"),n=document.querySelector(".selectorsContainer.partialLinkText");if(n.style.display="",void 0===e||0===e[1])n.style.display="none";else{t.setAttribute("selector",e[0]),t.setAttribute("title",e[0]),e[0]=J.className.includes("inactive")?e[0]:addPreCommandInSelector(e[0]),e[0]=e[0].includes("By.xpath")?e[0].replace("By.xpath","By.partialLinkText"):e[0].includes("By(xpath")?e[0].replace("By(xpath","By(partialLinkText"):e[0].includes("ByXPath")?e[0].replace("ByXPath","ByPartialLinkText"):e[0].includes("XPath")?e[0].replace("XPath","PartialLinkText"):e[0].includes("Xpath")?e[0].replace("Xpath","PartialLinkText"):e[0].includes("XPATH")?e[0].replace("XPATH","PARTIALLINKTEXT"):e[0].replace("xpath","partialLinkText"),t.innerText=e[0];var o=e[1],l=document.querySelector(".numberOfMatchingNodes.partialLinkText");l.textContent=o,l.style.backgroundColor="1"==o?"#15b515":"0"==o?"#ff0000":"#f78f06"}}))}function updateGAEvents(){var e=b.checked?"withid":"withoutid",t=S.checked?"withclass":"withoutclass",n=k.checked?"withname":"withoutname",o=w.checked,l=L.checked}function generateSelectors(){var e=b.checked?"withid":"withoutid",t=S.checked?"withclass":"withoutclass",n=k.checked?"withname":"withoutname",o=w.checked,l=L.checked;x=[e,t,n];var a=document.querySelector(".selectorsContainer.relXpath"),c=document.querySelector(".selectorsContainer.id"),r=document.querySelector(".selectorsContainer.cssSelector"),s=document.querySelector(".selectorsContainer.className"),i=document.querySelector(".selectorsContainer.name"),d=document.querySelector(".selectorsContainer.linkText"),p=document.querySelector(".selectorsContainer.partialLinkText"),m=document.querySelector(".selectorsContainer.absXpath"),h=document.querySelector(".selectorsContainer.tagName");if((X=document.querySelector(".toggle-btn")).classList.contains("active")){var y=document.querySelector(".jsXpath"),v=document.querySelector(".jsXpath").value,g=document.querySelector(".boxTitle").value,f=document.querySelector(".header-copy-btn");y.focus();var C=document.querySelector(".boxTitle");C.style.backgroundColor="dark"===u?"#e8b215":"#8fd4f7e6",g.includes("selectors")&&!N.className.includes("red")&&(a.style.display="",c.style.display="",r.style.display="",s.style.display="",i.style.display="",d.style.display="",p.style.display="",m.style.display="",h.style.display=""),g.includes("selectors")||!g?(y.setAttribute("placeholder"," type selector and press enter"),f.setAttribute("title","click to copy selector value from box"),generateColoredRelXpath(),generateCss(),generateAbsXpath(),generateId(),generateClassName(),generateName(),generateLinkText(),generatePartialLinkText(),generateTagName()):g.includes("rel")?(a.style.display="",c.style.display="none",r.style.display="none",s.style.display="none",i.style.display="none",d.style.display="none",p.style.display="none",m.style.display="none",h.style.display="none",generateColoredRelXpath()):g.includes("abs")?(a.style.display="none",c.style.display="none",r.style.display="none",s.style.display="none",i.style.display="none",d.style.display="none",p.style.display="none",m.style.display="",h.style.display="none",generateAbsXpath()):g.includes("css")&&(a.style.display="none",c.style.display="none",r.style.display="",s.style.display="none",i.style.display="none",d.style.display="none",p.style.display="none",m.style.display="none",h.style.display="none",generateCss())}}i.onMessage.addListener((function(e){var t,n,o,l,a=document.querySelector(".boxTitle").value,c=document.querySelector(".jsXpath").value,r=document.querySelector(".iframeIcon"),s=document.querySelector(".xpath-input"),i=document.querySelector(".selectorsContainer.suggestedXpath"),d=document.querySelector(".selectorsContainer.iframeXpath");i.style.display="none";try{t=e.count.includes("wrongXpath"),n=e.count.includes("iframe"),o=e.count.includes("notIframe"),l=e.count.includes("suggestedSelector")}catch(e){}if(n){r.style.display="block",s.style.width="calc(100% - 68px)",s.style.marginLeft="68px";var u=document.querySelector(".jsSelector.iframeXpath");d.style.display="block",void 0===e.count[1]?d.style.display="none":(u.innerText=J.className.includes("inactive")?e.count[1][0]:addPreCommandInSelector(e.count[1][0]),u.setAttribute("title",e.count[1][0]),document.querySelector(".numberOfMatchingNodes.iframeXpath").textContent=e.count[1][1]),setElementContainerHeight()}else if(o)r.style.display="none",s.style.width="100%",s.style.marginLeft="0px",d.style.display="none",setElementContainerHeight();else if(l){var p=document.querySelector(".jsSelector.suggestedXpath");i.style.display="block",void 0===e.count[1]?i.style.display="none":(e.count[1][0]=J.className.includes("inactive")?e.count[1][0]:addPreCommandInSelector(e.count[1][0]),p.innerText=e.count[1][0],p.setAttribute("title",e.count[1][0]),document.querySelector(".numberOfMatchingNodes.suggestedXpath").textContent=e.count[1][1]),setElementContainerHeight()}else{if(t)return highlightWrongXpath(),void showTotalResults(e.count);removeWrongXpath(),f&&showTotalResults(e.count);try{(document.querySelector(".jsXpath").value||1===e.count.length)&&showAllMatchingNode(e.count)}catch(e){}e.event&&"shown"===e.event&&selectElements(a,!1)}document.querySelector(".selectorsBlock").scrollTop=0})),chrome.extension.onMessage.addListener((function(e,t,o){"elementsCount"===e.type&&appendElementsCount(e),"generate-selector"!==e.message||N.className.includes("red")||generateSelectors(),"StopRecording"===e.message&&document.querySelector(".recorderButton").classList.remove("redBlink"),"AttachRecorder"===e.message&&(document.querySelector(".recorderButton").classList.add("redBlink"),n=!0,updateRecorderAttr()),"DeattachRecorder"===e.message&&(document.querySelector(".recorderButton").classList.remove("redBlink"),n=!1),"updateCPAttr"===e.type&&updateCPAttributes(e.data)})),i.postMessage({name:"init",tabId:chrome.devtools.inspectedWindow.tabId,contentScript:"../content-script/contentScript.js",contentCSS:"../content-script/contentScript.css"}),document.addEventListener("DOMContentLoaded",(async function(){var e=document.querySelector(".jsXpath"),t=document.querySelector(".attributeChoice.user");T.style.visibility="hidden";var n=document.querySelector(".header-copy-btn");e.focus();var o=document.querySelector(".boxTitle");N.className.includes("red")||generateSelectors(),o.addEventListener("change",(function(e){let t=document.getElementById("relXpathSelector");setElementContainerHeight(),generateSelectors(),"relXpath"===e.target.value?t.classList.add("listPosition"):t.classList.remove("listPosition")})),e.addEventListener("search",(function(e){document.querySelector(".jsXpath").value||generateSelectors()})),e.addEventListener("keyup",(function(e){var t=o.value,n;13===(e.which||e.keyCode)?(f=!0,setElementContainerHeight(),selectElements(t,!0)):document.querySelector(".jsXpath").value?checkWrongXpath():document.querySelector(".jsXpath").value||generateSelectors()})),t.addEventListener("keyup",(function(e){var t;13===(e.which||e.keyCode)&&(generateSelectors(),generateSuggestedXpath())})),T.addEventListener("keyup",(function(e){var t=e.which||e.keyCode;if(this.value=this.value.replace(/“/g,'"').replace(/”/g,'"'),13===t){if(this.value.replace(/xpathvalue/i,"xpathvalue"),!this.value.toLowerCase().includes("xpathvalue"))return this.classList.add("wrongXpath"),document.querySelector(".helpIcon").style.visibility="visible",void showSnackbar("xpathValue keyword should be there in the command.");generateSelectors(),generateSuggestedXpath(),R.classList.contains("defaultSmartMaintenance")&&updateSMSteps(),N.classList.contains("red")&&updateChroPathSteps()}this.value.toLowerCase().includes("xpathvalue")?this.value.toLowerCase().includes("xpathvalue")&&(this.classList.remove("wrongXpath"),document.querySelector(".helpIcon").style.visibility="hidden",J.classList.remove("inactive"),J.classList.add("active")):(this.classList.add("wrongXpath"),document.querySelector(".helpIcon").style.visibility="visible",J.classList.add("inactive"),J.classList.remove("active"))})),addClickHandlers(),clickToCopyBoxValue(),clickToCopyIframeXpath(),clickToEditIframeXpath(),clickToCopySuggestedXpath(),clickToEditSuggestedXpath(),clickToCopyRelXpath(),clickToEditRelXpath(),clickToCopyId(),clickToEditId(),clickToCopyName(),clickToEditName(),clickToCopyClassName(),clickToEditClassName(),clickToCopyCss(),clickToEditCss(),clickToCopyLinkText(),clickToEditLinkText(),clickToCopyPartialLinkText(),clickToEditPartialLinkText(),clickToCopyTagName(),clickToEditTagName(),clickToCopyAbsXpath(),clickToEditAbsXpath(),setTimeout(()=>{},2e3)}));var x=[],b=document.querySelector(".attributeChoice.id"),S=document.querySelector(".attributeChoice.class"),k=document.querySelector(".attributeChoice.name"),w=document.querySelector(".attributeChoice.placeholder"),q=document.querySelector(".attributeChoice.user"),L=document.querySelector(".attributeChoice.textXpath"),T=document.querySelector(".pre-command");function attributeChoicesOption(){var e=q.value.trim(),t=b.checked?"withid":"withoutid",n=S.checked?"withclass":"withoutclass",o=k.checked?"withname":"withoutname",l=w.checked?"withplaceholder":"withoutplaceholder",a=L.checked?"withtext":"withouttext";x=[e,t,n,o,l,a]}function generateColoredRelXpath(){attributeChoicesOption();var e="",t="",n=document.querySelector(".boxTitle").value.toLowerCase(),o=chrome.devtools.inspectedWindow.eval('generateRelXpath($0, "'+x+'")',{useContentScriptContext:!0},(function(o){var l=document.querySelector(".jsSelector.rel");void 0===o?(e="This element might be inside iframe from different src. Currently ChroPath doesn't support for them.",t="0"):(e=o[0],t=o[1]),l.setAttribute("selectors",e),l.setAttribute("relXpath",e),l.setAttribute("title",e);var a=T.value.trim();a=a.replace(/“/g,'"').replace(/”/g,'"');var c="",r="";!J.className.includes("inactive")&&void 0!==o&&a&&(a.includes("xpathvalue")?(c=a.split("xpathvalue")[0],r=a.split("xpathvalue")[1]):a.includes("xpathValue")?(c=a.split("xpathValue")[0],r=a.split("xpathValue")[1]):a.includes("cssValue")?(c=a.split("cssValue")[0],r=a.split("cssValue")[1]):a.includes("cssvalue")?(c=a.split("cssvalue")[0],r=a.split("cssvalue")[1]):a.includes("cssSelectoValue")?(c=a.split("cssSelectoValue")[0],r=a.split("cssSelectoValue")[1]):a.includes("cssselectovalue")?(c=a.split("cssselectovalue")[0],r=a.split("cssselectovalue")[1]):(c=a.split('"')[0]+'"',r='"'+a.split('"')[2])),l.innerHTML="";var s="//",i=createElement("span","p1-label");i.innerText=c,l.appendChild(i);var d=createElement("span","v0-label");d.innerText=s,l.appendChild(d);var u="",p="";if(e.slice(2).includes("//")?(p=e.split("//"),u="//"):e.slice(2).includes("/")?(p=e.slice(1).split("/"),u="/"):p=e.split("//"),e.includes("["))for(var m=1;m<p.length;m++){var h="",v,v;if(p[m].includes("["))if(h=1===m?p[m].split("[")[0]+"[":u+p[m].split("[")[0]+"[",(v=createElement("span","v1-label")).innerText=h,l.appendChild(v),!p[m].split("[")[1].includes("'")||p[m].split("'").length>3){var g=createElement("span","v4-label"),f=p[m].substr(p[m].indexOf("[")+1);g.innerText=f,l.appendChild(g)}else{var C=p[m].split("[")[1].split("'")[0]+"'",x=p[m].split("[")[1].split("'")[1],b="'"+p[m].split("[")[1].split("'")[2],S=createElement("span","v2-label");S.innerText=C.includes(void 0)?"":C,l.appendChild(S);var k=createElement("span","v3-label");k.innerText=x.includes(void 0)?"":x,l.appendChild(k);var w=createElement("span","v4-label");if(w.innerText=b.includes(void 0)?"":b,l.appendChild(w),p[m].split("[").length>2)if("["+p[m].split("[")[2].split("'")[0].length>1){var q="["+p[m].split("[")[2].split("'")[0]+"'",L=p[m].split("[")[2].split("'")[1],E="'"+p[m].split("[")[2].split("'")[2],X;(X=createElement("span","v2-label")).innerText=q.includes(void 0)?"":q,l.appendChild(X);var B=createElement("span","v3-label");B.innerText=L.includes(void 0)?"":L,l.appendChild(B);var N=createElement("span","v4-label");N.innerText=E.includes(void 0)?"":E,l.appendChild(N)}else{var q="["+p[m].split("[")[2].split("'")[0],X;(X=createElement("span","v2-label")).innerText=q.includes(void 0)?"":q,l.appendChild(X)}}else h=1===m?p[m]:u+p[m],(v=createElement("span","v1-label")).innerText=h,l.appendChild(v)}else{l.removeChild(d);var P=createElement("span","abs-label");P.innerText=e,l.appendChild(P)}var A=createElement("span","p2-label");A.innerText=r,l.appendChild(A),document.querySelector(".numberOfMatchingNodes.relXpath").textContent=t,document.querySelector(".numberOfMatchingNodes.relXpath").style.backgroundColor="1"==t?"#15b515":"0"==t?"#ff0000":"#f78f06";var I="",_=document.querySelector(".alertIcon"),M=document.querySelector(".alert.toolTip"),j=document.querySelector(".relXpath span.matchingNodesContainer");_.style.display="none",j.style.marginLeft="0px",o&&(o[2]||o[3])&&(_.style.display="",j.style.marginLeft=y,o[2]&&o[3]?I="id & class both look dynamic. Uncheck the id & class checkbox to generate rel xpath without them if it is generated with them.":o[2]?I=o[2]+" looks dynamic. Uncheck the "+o[2]+" checkbox/delete the "+o[2]+" attribute from attribute box to generate rel xpath without "+o[2]+" if it is generated with "+o[2]+".":_.style.display="none",M.innerText=I),selectElements(n,!1),n.includes("rel")&&(setElementContainerHeight(),document.querySelector(".numberOfMatchingNodes.relXpath").parentElement.style.width="26px")}))}q.addEventListener("keyup",(function(e){var t=q.value.trim();chrome.storage.local.set({userAttrName:t},(function(){}))})),chrome.storage.local.get(["userAttrName"],(function(e){q.value=null==e.userAttrName?"":e.userAttrName}));var highlightWrongXpath=function(){var e;document.querySelector(".xpath-input").className+=" wrongXpath"},removeWrongXpath=function(){try{var e;document.querySelector(".xpath-input.wrongXpath").classList.remove("wrongXpath")}catch(e){}},checkWrongXpath=function(){var e=document.querySelector(".jsXpath"),t=e.value,n=document.querySelector(".jsTotalCount"),o=document.querySelector(".boxTitle").value;if(o=o.includes("XPath")||o.includes("selectors")&&!t||t.charAt(0).includes("/")||t.substr(0,2).includes("./")||t.charAt(0).includes("(")||"."===t?"XPath":"CSS",t||(n.className+=" hideCountMsg",selectElements(o,!1),clearElements()),e.getAttribute("class").includes("wrongXpath")&&removeWrongXpath(),t)try{o.includes("XPath")?elements=document.evaluate(t,document,null,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null):"CSS"===o&&(elements=document.querySelectorAll(t))}catch(e){highlightWrongXpath()}},clearElements=function(){var e=document.querySelector("#chroPathEleContainer"),t;document.querySelector(".jsTotalCount").innerHTML="",e.innerHTML=""};function changeBackground(e){var t=e.target.value;document.body.style.background=t}chrome.devtools.panels.elements.onSelectionChanged.addListener((function(){N.className.includes("red")||generateSelectors(),setElementContainerHeight()}));var createElement=function(e,t){var n=document.createElement(e);return t&&n.setAttribute("class",t),n},E=/(?:^(<.+?>)(.+)(<\/.+?>)$)|(?:^(<.+?>)$)/,getOpenCloseTag=function(e){var t=E.exec(e.outerHTML),n="",o="";return t&&(n=t[1]?t[1]:t[0],o=t[3]?t[3]:""),{openTag:n,closeTag:o}},getTextNodeWrapper=function(e){var t=createElement("div","child level-padding");return t.innerText=e.textContent,t},getWrapperNode=function(e,t){var n=getOpenCloseTag(e);if(e.nodeType===Node.TEXT_NODE)return getTextNodeWrapper(e);e.childNodes&&0===e.childNodes.length&&!e.textContent&&(t="leaf-node level-padding");var o=createElement("div",t),l=createElement("span","open-tag-label");l.innerText=n.openTag,o.appendChild(l),(e.childNodes&&e.childNodes.length>0||e.textContent)&&(childElements=convertToTreeStructure(e,"child level-padding closed"),o.appendChild(childElements));var a=createElement("span","close-tag-label");return a.innerText=n.closeTag,o.appendChild(a),o},convertToTreeStructure=function(e,t){var n,o,l,a;if(!e.childElementCount)return(a=createElement("div",t="text-node level-padding")).innerText=e.textContent,a;if(e.childNodes.length>1){for(var c=e.childNodes,r=createElement("div",t+" children-cont"),s=0;s<c.length;s++)n=c[s],a=getWrapperNode(n,"child closed"),r.appendChild(a);return r}return n=e.childNodes[0],a=getWrapperNode(n,t)},onClickHandler=function(e){e.preventDefault(),e.stopPropagation();var t=e.target,n=t.id;n.includes("chroPathEleContainer")||(document.querySelector(".selectedNode")&&(document.querySelector(".selectedNode").style.backgroundColor="dark"===u?"#2f2d2d8c":"white",document.querySelector(".selectedNode").classList.remove("selectedNode")),t.classList.add("selectedNode"),t.style.backgroundColor="#9e9e9e5c");var o=t.className;o.includes("open-tag-label")||o.includes("close-tag-label")||0==o.length||n.includes("chroPathEleContainer")||(o?-1!==o.indexOf("open")?(t.classList.remove("open"),t.classList.add("closed")):(t.classList.add("open"),t.classList.remove("closed")):t.classList.add("open"))},addClickHandlers=function(){var e;document.querySelector("#chroPathEleContainer").addEventListener("click",onClickHandler)},clickToCopyBoxValue=function(){var e=document.querySelector(".header-copy-btn");e.addEventListener("click",copyBoxValueToClipboard),e.addEventListener("click",showCopied)},copyBoxValueToClipboard=function(){var e;document.querySelector(".xpath-input.jsXpath").select(),document.execCommand("Copy")},clickToCopyRelXpath=function(){var e=document.querySelector(".relCopyButton");e.addEventListener("click",copyRelXpathToClipboard),e.addEventListener("click",showCopied)},copyRelXpathToClipboard=function(){copyToClipboard(".jsSelector.rel")},clickToCopyIframeXpath=function(){var e=document.querySelector(".iframeCopyButton");e.addEventListener("click",copyIframeXpathToClipboard),e.addEventListener("click",showCopied)},copyIframeXpathToClipboard=function(){copyToClipboard(".jsSelector.iframeXpath")},clickToCopySuggestedXpath=function(){var e=document.querySelector(".suggestedCopyButton");e.addEventListener("click",copySuggestedXpathToClipboard),e.addEventListener("click",showCopied)},copySuggestedXpathToClipboard=function(){copyToClipboard(".jsSelector.suggestedXpath")},clickToCopyId=function(){var e=document.querySelector(".idCopyButton");e.addEventListener("click",copyIdToClipboard),e.addEventListener("click",showCopied)},copyIdToClipboard=function(){copyToClipboard(".jsSelector.id")},clickToCopyClassName=function(){var e=document.querySelector(".classNameCopyButton");e.addEventListener("click",copyClassNameToClipboard),e.addEventListener("click",showCopied)},copyClassNameToClipboard=function(){copyToClipboard(".jsSelector.className")},clickToCopyName=function(){var e=document.querySelector(".nameCopyButton");e.addEventListener("click",copyNameToClipboard),e.addEventListener("click",showCopied)},copyNameToClipboard=function(){copyToClipboard(".jsSelector.name")},clickToCopyTagName=function(){var e=document.querySelector(".tagNameCopyButton");e.addEventListener("click",copyTagNameToClipboard),e.addEventListener("click",showCopied)},copyTagNameToClipboard=function(){copyToClipboard(".jsSelector.tagName")},clickToCopyAbsXpath=function(){var e=document.querySelector(".absCopyButton");e.addEventListener("click",copyAbsXpathToClipboard),e.addEventListener("click",showCopied)},copyAbsXpathToClipboard=function(){copyToClipboard(".jsSelector.abs")},clickToCopyCss=function(){var e=document.querySelector(".cssCopyButton");e.addEventListener("click",copyCssToClipboard),e.addEventListener("click",showCopied)},copyCssToClipboard=function(){copyToClipboard(".jsSelector.css")},clickToCopyLinkText=function(){var e=document.querySelector(".linkTextCopyButton");e.addEventListener("click",copyLinkTextToClipboard),e.addEventListener("click",showCopied)},copyLinkTextToClipboard=function(){copyToClipboard(".jsSelector.linkText")},clickToCopyPartialLinkText=function(){var e=document.querySelector(".partialLinkTextCopyButton");e.addEventListener("click",copyPartialLinkTextToClipboard),e.addEventListener("click",showCopied)},copyPartialLinkTextToClipboard=function(){copyToClipboard(".jsSelector.partialLinkText")};function addPreCommandInSelector(e){var t=T.value.trim(),n="";return n=(t=t.replace(/“/g,'"').replace(/”/g,'"')).includes("xpathvalue")||t.includes("xpathValue")?t.includes("xpathvalue")?t.replace("xpathvalue",e):t.replace("xpathValue",e):t?t.split('"')[0]+'"'+e+'"'+t.split('"')[2]:e}function onUpdateCommand(e){var t=T.value.trim();t=t.replace(/“/g,'"').replace(/”/g,'"'),chrome.storage.local.set({preCommandValue:t},(function(){})),t.toLowerCase().includes("xpathvalue")?t.toLowerCase().includes("xpathvalue")&&(T.classList.remove("wrongXpath"),document.querySelector(".helpIcon").style.visibility="hidden",J.classList.add("active"),J.classList.remove("inactive")):(T.classList.add("wrongXpath"),document.querySelector(".helpIcon").style.visibility="visible",J.classList.add("inactive"),J.classList.remove("active"))}function copyToClipboard(e){var t=document.querySelector(e);let n=document.createElement("textarea"),o;n.id="t",n.style.height=0,document.body.appendChild(n),n.value=t.innerText,document.querySelector("#t").select(),document.execCommand("copy"),document.body.removeChild(n)}function copyAllRowsToClipboard(e){var t=document.querySelector(e);let n=document.createElement("textarea");n.id="t",n.style.height=0,document.body.appendChild(n);var o=document.querySelectorAll(".selectorValue");if(N.className.includes("grey"))for(var l=1;l<o.length;l++){let e=o[l].innerText.split(" ").length>1?o[l].innerText.split(" ").slice(1).join(""):o[l].innerText;n.value=n.value+"\n"+(e.length>3?e:"")}else for(var l=1;l<o.length;l++)n.value=n.value+"\n"+o[l].innerText;let a;document.querySelector("#t").select(),document.execCommand("copy"),document.body.removeChild(n)}T.addEventListener("keyup",onUpdateCommand),chrome.storage.local.get(["preCommandValue"],(function(e){T.value=null==e.preCommandValue?'driver.findElement(By.xpath("xpathvalue"))':e.preCommandValue}));var clickToEditIframeXpath=function(){var e;document.querySelector(".iframeEditButton").addEventListener("click",editIframeXpath)},editIframeXpath=function(){editSelector(".jsSelector.iframeXpath")},clickToEditSuggestedXpath=function(){var e;document.querySelector(".suggestedEditButton").addEventListener("click",editSuggestedXpath)},editSuggestedXpath=function(){editSelector(".jsSelector.suggestedXpath")},clickToEditRelXpath=function(){var e;document.querySelector(".relEditButton").addEventListener("click",editRelXpath)},editRelXpath=function(){editSelector(".jsSelector.rel")},clickToEditId=function(){var e;document.querySelector(".idEditButton").addEventListener("click",editId)},editId=function(){editSelector(".jsSelector.id")},clickToEditName=function(){var e;document.querySelector(".nameEditButton").addEventListener("click",editName)},editName=function(){editSelector(".jsSelector.name")},clickToEditClassName=function(){var e;document.querySelector(".classNameEditButton").addEventListener("click",editClassName)},editClassName=function(){editSelector(".jsSelector.className")},clickToEditAbsXpath=function(){var e;document.querySelector(".absEditButton").addEventListener("click",editAbsXpath)},editAbsXpath=function(){editSelector(".jsSelector.abs")},clickToEditCss=function(){var e;document.querySelector(".cssEditButton").addEventListener("click",editCss)},editCss=function(){editSelector(".jsSelector.css")},clickToEditLinkText=function(){var e;document.querySelector(".linkTextEditButton").addEventListener("click",editLinkText)},editLinkText=function(){editSelector(".jsSelector.linkText")},clickToEditPartialLinkText=function(){var e;document.querySelector(".partialLinkTextEditButton").addEventListener("click",editPartialLinkText)},editPartialLinkText=function(){editSelector(".jsSelector.partialLinkText")},clickToEditTagName=function(){var e;document.querySelector(".tagNameEditButton").addEventListener("click",editTagName)},editTagName=function(){editSelector(".jsSelector.tagName")},editSelector=function(e){var t=document.querySelector(e).innerText,n;document.querySelector(".jsXpath").focus(),document.execCommand("selectAll"),document.execCommand("insertText",!1,t)};function buttonMouseHover(e,t){e.style.outline="0.01em solid #73bde2f2",e.style.backgroundImage="url('../assets/"+t+"')"}function buttonMouseOut(e,t){"dark"===u&&(t=t.replace("grey","orange")),e.style.boxShadow="",e.style.outline="",e.style.backgroundImage="url('../assets/"+t+"')"}function selectorContainerMouseHover(e){e.style.backgroundColor="dark"===u?"#6f6868":"#e3e8ea"}function selectorContainerMouseOut(e){e.style.backgroundColor=""}var X=document.querySelector(".toggle-btn"),B=document.querySelectorAll("button");function generateSuggestedXpath(){var e=document.querySelector(".boxTitle").value,t;document.querySelector(".jsXpath").value&&selectElements(e,!0)}function updateCPSteps(e){deleteAllRow(),e?e.forEach(e=>{insRow(e.label,e.selector)}):s.forEach(e=>{insRow(e.label,e.selector)})}function updateColumnsColor(e){for(var t=document.querySelector("#tableRow").getElementsByTagName("th"),n=0;n<t.length;n++)t[n].style.backgroundColor=e,t[n].style.color="black"}X.addEventListener("click",(function(){if(this.classList.contains("active")){this.classList.remove("active"),this.classList.add("inactive");for(var e=0;e<B.length;e++)B[e].disabled=!0}else{this.classList.remove("inactive"),this.classList.add("active");for(var e=0;e<B.length;e++)B[e].disabled=!1}var t=document.querySelector(".toggle.toolTip");if(this.classList.contains("inactive")){t.textContent="click to enable ChroPath";var n,o,l=["xpath","",!1];i.postMessage({name:"highlight-element",tabId:chrome.devtools.inspectedWindow.tabId,xpath:l})}else t.textContent="click to disable ChroPath",generateSelectors()})),chrome.storage.local.get(["classChecked"],(function(e){S.checked=null==e.classChecked||e.classChecked})),chrome.storage.local.get(["nameChecked"],(function(e){k.checked=null==e.nameChecked||e.nameChecked})),chrome.storage.local.get(["placeholderChecked"],(function(e){w.checked=null==e.placeholderChecked||e.placeholderChecked})),chrome.storage.local.get(["idChecked"],(function(e){b.checked=null==e.idChecked||e.idChecked})),chrome.storage.local.get(["textCheckboxChecked"],(function(e){L.checked=null==e.textCheckboxChecked||e.textCheckboxChecked})),S.addEventListener("click",(function(){var e=S.checked;chrome.storage.local.set({classChecked:e},(function(){})),generateColoredRelXpath(),generateSuggestedXpath(),updateGAEvents()})),k.addEventListener("click",(function(){var e=k.checked;chrome.storage.local.set({nameChecked:e},(function(){})),generateColoredRelXpath(),generateSuggestedXpath(),updateGAEvents()})),w.addEventListener("click",(function(){var e=w.checked;chrome.storage.local.set({placeholderChecked:e},(function(){})),generateColoredRelXpath(),generateSuggestedXpath(),updateGAEvents()})),b.addEventListener("click",(function(){var e=b.checked;chrome.storage.local.set({idChecked:e},(function(){})),generateColoredRelXpath(),generateSuggestedXpath(),updateGAEvents()})),L.addEventListener("click",(function(){var e=L.checked;chrome.storage.local.set({textCheckboxChecked:e},(function(){})),generateColoredRelXpath(),generateSuggestedXpath(),updateGAEvents()}));var N=document.querySelector(".captureButton"),P=document.querySelector(".selectorsBlock"),A=document.querySelector("#chroPathEleContainer"),I=document.querySelector("#multiSelectorDiv"),_=document.querySelector("#tableRow"),M=document.querySelector(".copyAll"),j=document.querySelector(".deleteAll"),O=!1;N.addEventListener("click",(function(){deleteAllRow(),document.querySelector(".label-header").style.display="table-cell",H.innerText="Selectors",V.textContent="1. Inspect elements or click on DOM nodes one by one to record xpaths for many. \r\n2. Turn on the driver command to generate xpath with command. \r\n3. Set the attribute to generate xpath with required attribute. \r\n4. Click on Copy All button present in header to copy all xpaths. \r\n5. Click on export icon to download the recorded data.",W.setAttribute("href","https://youtu.be/EuLtm7OVLDE"),D.textContent="How to generate automation code.",$.textContent="click for smart maintenance.",R.classList.remove("defaultSmartMaintenance"),ee.style.display="none",te.style.display="none",_.style.backgroundColor="#b8dab1",M.style.left="45px",j.style.left="75px",updateColumnsColor("#b8dab1");var e=document.querySelector(".boxTitle").value.toLocaleLowerCase(),t=document.querySelector(".capture.toolTip");if(N.className.includes("grey")?(N.classList.add("red"),N.classList.remove("grey"),N.style.backgroundImage="url('../assets/capture_red.svg')",t.textContent="click to stop recording and go back to home page."):(setElementContainerHeight(),N.classList.add("grey"),N.classList.remove("red"),N.style.backgroundImage="url('../assets/capture_"+p+".svg')",t.textContent="click to generate automation code/multiple xpaths."),selectElements(e,!1),N.className.includes("red")&&X.classList.contains("active")){P.style.display="none";try{A.style.display="none"}catch(e){}I.style.display="block",chrome.devtools.panels.elements.onSelectionChanged.addListener((function(){if(N.className.includes("red")&&X.classList.contains("active")){O=!0;var e=!1;attributeChoicesOption();var t="",n="",o="",l=chrome.devtools.inspectedWindow.eval('generateRelXpath($0, "'+x+'")',{useContentScriptContext:!0},(function(o){void 0!==o&&(xpath=["xpath",o[0],e],i.postMessage({name:"highlight-element",tabId:chrome.devtools.inspectedWindow.tabId,xpath:xpath})),n=o[0],t=J.className.includes("inactive")||!T.value.trim()?o[0]:addPreCommandInSelector(o[0])})),a=chrome.devtools.inspectedWindow.eval("generateLabel($0)",{useContentScriptContext:!0},(function(e){var l=document.querySelector(".labelName");void 0===e&&(e="This element might be pseudo element/comment/inside iframe from different src. Currently ChroPath doesn't support for them."),o=e?e.slice(0,30):t,O&&N.className.includes("red")&&X.classList.contains("active")&&void 0!==t&&(r.push({label:o,selector:n}),s.push({label:o,selector:t}),insRow(o,t))}))}})),updateCPSteps()}else{I.style.display="none";var e=document.querySelector(".boxTitle").value;P.style.display="",A.style.display=""}"hidden"===T.style.visibility?document.querySelector("#selectorHeader").textContent="XPath":document.querySelector("#selectorHeader").textContent="Command"}));var R=document.getElementById("smartMaintenance"),H=document.getElementById("selectorHeader"),V=document.querySelector(".tablePlaceholder"),$=document.querySelector(".resetSmart"),W=document.querySelector(".tutorialLink"),D=document.querySelector(".tutorial.tooltip"),F,U,z;function smartMaintenanceScreen(e){deleteAllRow(),N.className.includes("grey")||N.click();var t=document.querySelector("#multiSelectorDiv"),n=document.querySelector(".selectorsBlock"),o=document.querySelector("#chroPathEleContainer"),l=document.querySelector(".label-header");n.style.display="none",o.style.display="none",t.style.display="block",l.style.display="none",H.innerText="XPath",V.innerText=d,ee.style.display="",te.style.display="",_.style.backgroundColor="#f3d476",M.style.left="20px",j.style.left="60px",updateColumnsColor("#f3d476"),W.setAttribute("href","https://youtu.be/T2PtPbzaJws"),D.textContent="Smart Maintenance Tutorial",this.classList.contains("defaultSmartMaintenance")?(document.querySelector(".selectorsBlock").style.display="",document.querySelector("#chroPathEleContainer").style.display="",document.querySelector("#multiSelectorDiv").style.display="none",$.textContent="click to verify all selectors in single shot",this.classList.remove("defaultSmartMaintenance")):(this.classList.add("defaultSmartMaintenance"),$.textContent="click to go back to home page",appendRows(a,!0))}function insRow(e,t){var n=document.querySelector("#multiSelectorTable tbody"),o=n.rows[0].cloneNode(!0);o.style.display="";var l=n.rows.length,a=o.cells[1];a.id+=l,a.innerHTML=e,a.addEventListener("input",(function(e){e.data?this.classList.remove("removeOutline"):this.classList.add("removeOutline")}));var c=o.cells[2];c.id+=l,c.addEventListener("input",(function(e){if(e.data){if(J.classList.contains("inactive")){var t=this.parentNode.rowIndex;r[t-2].selector=this.innerText,s[t-2].selector=this.innerText,this.classList.remove("removeOutline")}}else this.classList.add("removeOutline")})),t&&t.toLowerCase().includes("labelvalue")&&(t=t.replace(/labelvalue/i,toCamelCase(e))),c.textContent=t,n.appendChild(o),O=!1,updateTotalRowsCount()}function toCamelCase(e){return e.replace(/_/g," ").replace(/\s(.)/g,(function(e){return e.toUpperCase()})).replace(/\s/g,"").replace(/^(.)/,(function(e){return e.toLowerCase()}))}function copyToClipboardSM(e){var t=document.querySelector(e);let n=document.createElement("textarea"),o;n.id="t",n.style.height=0,document.body.appendChild(n),n.value=t.innerText.split(" ").length>1?t.innerText.split(" ").slice(1).join(""):t.innerText,document.querySelector("#t").select(),document.execCommand("copy"),document.body.removeChild(n)}function rowAction(e){for(var t=document.querySelectorAll("#"+e),n=t.length,o=0;o<n;o++)t[o].addEventListener("click",(function(){e.includes("delButton")?deleteRow(this):e.includes("copy")||e.includes("edit")}))}function deleteRow(e){document.getElementById("multiSelectorTable").deleteRow(e),updateTotalRowsCount(),R.classList.contains("defaultSmartMaintenance")&&(c.splice(e-2,1),a.splice(e-2,1),appendRows(a,!0)),N.className.includes("red")&&(r.splice(e-2,1),s.splice(e-2,1))}function deleteAllRow(){for(var e=document.querySelectorAll("tr"),t=2;t<e.length;t++)document.getElementById("multiSelectorTable").deleteRow(2);document.querySelector(".tablePlaceholder").style.display="",updateTotalRowsCount()}function showSnackbar(e){let t=document.querySelector("#snackbar");t.innerText=e,t.className="show",setTimeout((function(){t.className=t.className.replace("show","")}),2e3)}function openFileUploadModal(){var e;chrome.storage.local.get(["preCommandValue"],(async function(e){ce.value=null==await e.preCommandValue?'driver.findElement(By.xpath("xpathvalue"))':e.preCommandValue})),le.textContent="Next",document.getElementById("enterNewTitle").style.display="none",document.getElementById("addNewTitle").textContent="Upload XPath file",document.getElementById("imgupload").style.display="none",document.getElementById("addNewModal").style.display="block",document.getElementById("enterNewTitle").focus(),document.getElementById("enterNewTitle").value="",checkXpathInputCommand()}function checkXpathInputCommand(){setTimeout(()=>{ce.value.toLowerCase().includes("xpathvalue")?ce.value.toLowerCase().includes("xpathvalue")&&(ce.classList.remove("wrongXpath"),ce.style.backgroundColor="#FFF"):(ce.classList.add("wrongXpath"),ce.style.backgroundColor="#FF6347")},100)}R.addEventListener("click",smartMaintenanceScreen,!0),document.querySelector("#multiSelectorTable").addEventListener("click",(function(e){var t=e.target.parentNode.parentNode.rowIndex;if(e.target.id.includes("delButton"))deleteRow(t);else if("row-copy-btn"===e.target.id){var n;copyToClipboard("#"+(n=e.target.parentNode.parentNode.querySelector(".selectorValue").id)),showCopied()}else if("row-edit-btn"===e.target.id){let t=e.target.parentNode.parentNode.querySelector(".selectorValue").innerText,n;document.querySelector(".jsXpath").focus(),document.execCommand("selectAll"),document.execCommand("insertText",!1,t)}else if("row-edit-btn-SM"===e.target.id){let t=e.target.parentNode.parentNode.querySelector(".selectorValue").innerText,n=t.split(" ").length>1?t.split(" ").slice(1).join(""):t,o;document.querySelector(".jsXpath").focus(),document.execCommand("selectAll"),document.execCommand("insertText",!1,n)}else if("row-copy-btn-SM"===e.target.id){var n;copyToClipboardSM("#"+(n=e.target.parentNode.parentNode.querySelector(".selectorValue").id)),showCopied()}})),document.querySelector(".copyAllButton").addEventListener("click",(function(){copyAllRowsToClipboard(),this.addEventListener("click",showCopied)})),document.querySelector(".deleteAllButton").addEventListener("click",(function(){deleteAllRow(),R.classList.contains("defaultSmartMaintenance")&&(c=[],a=[]),N.className.includes("red")&&(s=[],r=[])})),document.querySelector(".exportButton").addEventListener("click",(function(){document.getElementById("tableBody").rows.length>1?exportSelectors("multiSelectorTable","test"):showSnackbar("No data to save")}));var G=document.getElementById("imgupload");function nodesColor(e){switch(e){case 0:return"nodesCountZero";case 1:return"nodesCountOne";default:return"nodesCountDef"}}function appendRows(e,t){deleteAllRow();try{e.forEach(async(e,n)=>{var o=document.getElementById("tableBody").rows.length;tableBody.innerHTML+=`\n                <tr>\n                    <td id='s-no'></td>\n                    <td style="display:${t?"none":""}" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" id="labelData${o}" class="label editableContent">\n                        ${e[Object.keys(e)[0]]||""}\n                    </td>\n                    <td autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" id="selectorData${o}" class="selectorValue editableContent">\n                        <span class='nodesCount' id="occurrence${o}">0</span>\n                        ${e.XPath||""}\n                    </td>\n                    <td id="actionBtn">\n                        <button id="row-copy-btn-SM" title="click to copy relative XPath"></button>\n                        <button id="row-edit-btn-SM" title="click to edit relative XPath"></button>\n                        <button id="delButton"></button>\n                    </td>\n                </tr>\n            `,await i.postMessage({name:"calcElements",tabId:chrome.devtools.inspectedWindow.tabId,data:{xpath:c[n].XPath||"",id:`occurrence${o}`}}),addChangeHandler(`occurrence${o}`)}),updateTotalRowsCount()}catch(e){console.warn(e,"Error")}}function addChangeHandler(e){let t=document.getElementById(e);t.parentNode.addEventListener("input",(function(e){if(e.data){if(J.classList.contains("inactive")){var n=this.parentNode.rowIndex,o=this.innerText.slice(this.innerText.indexOf(" ")+1);c[n-2].XPath=o,a[n-2].XPath=o,t.parentElement.classList.remove("removeOutline")}}else t.parentElement.classList.add("removeOutline")}))}function updateNodesCount(e,t,n){try{var o=document.querySelectorAll(".nodesCount");if(e)for(let e=0;e<o.length;e++)o[e].innerHTML="";else for(let e=0;e<o.length;e++)o[e].innerHTML=t[e]}catch(e){console.warn(e,"ERR")}}function downloadFile(e,t,n){var o=[],l=[],a=window.navigator.userAgent.includes("Windows");n.forEach((n,a)=>{R.classList.contains("defaultSmartMaintenance")?(o=[["XPath","Occurrence"]],l.push([n,t[a]])):(o="hidden"===T.style.visibility?[["Label","XPath"]]:[["Label","Command"]],l.push([e[a],n]))});var c=o.concat(l),r="";c.forEach((function(e){e=[`"${e[0]}"`,`"${e[1]}"`],r+=a?e.join(","):e.join("\t"),r+="\n"}));var s=window.document.createElement("a");s.href=window.URL.createObjectURL(new Blob([r],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;"})),s.download=a?"download.csv":"download.xls",document.body.appendChild(s),s.click(),document.body.removeChild(s),s=null}G.addEventListener("change",(function(e){var t=e.target.files[0],n=new FileReader,o=document.getElementById("customCommand").value.trim(),l=document.getElementById("inputToggle");n.onload=function(e){var t=e.target.result,n=XLSX.read(t,{type:"binary"});n.SheetNames.forEach((function(e){var t=XLSX.utils.sheet_to_row_object_array(n.Sheets[e]);if(document.querySelector(".label-header").style.display="none",l.classList.contains("active")){let e=[...t];a=e.map(e=>{let t,n,l;return{Step:e.Label,XPath:extractXpath(e.XPath||e.Command,o)}}),c=[...a],appendRows(a,!0)}else a=[...t],appendRows(c=a.map(e=>{let t,n;return{Step:e.Label,XPath:e.XPath||e.Command}}),!0)}))},n.onerror=function(e){console.error("File could not be read! Code "+e.target.error.code)},n.readAsBinaryString(t),G.value=""}),!1);var exportSelectors=function(e,t){let n=document.querySelectorAll(".nodesCount"),o=document.querySelectorAll(".label"),l=document.querySelectorAll(".selectorValue"),a=[],c=[],r=[];for(let e=1;e<o.length;e++)a.push(o[e].textContent);for(let e=0;e<n.length;e++)c.push(n[e].textContent);updateNodesCount(!0,c,a);for(let e=1;e<l.length;e++)r.push(l[e].textContent);downloadFile(a,c,r),updateNodesCount(!1,c,a)};function updateSMSteps(){appendRows(a=c.map(e=>({Step:e.Step,XPath:T.value.trim().replace(/xpathvalue/i,e.XPath)})),!0)}function updateChroPathSteps(){updateCPSteps(s=r.map(e=>({label:e.label,selector:T.value.trim().replace(/xpathvalue/i,e.selector)})))}var J=document.querySelector(".addPrefix"),K=document.querySelector(".total-count");async function removeAttrCommands(e){let t=document.querySelectorAll(".jsSelector"),n=document.querySelector(".rel");if(e){for(let e=0;e<t.length;e++)if(t[e].offsetParent&&!t[e].classList.contains("rel")){let n=t[e].dataset.command,o=T.value.trim();T.value.toLowerCase().indexOf("xpath")!==T.value.toLowerCase().lastIndexOf("xpath")&&(o=T.value.trim().replace("xpath",n)),t[e].textContent.includes(T.value.replace(/”|“/g,'"').replace("xpath",t[e].dataset.command).replace(/”|“/g,'"').split('"')[0])||(t[e].textContent=o.replace(/xpathvalue/i,t[e].textContent))}if(n.offsetParent){let e=T.value.toLowerCase().trim().indexOf("xpathvalue"),t=T.value.trim().length-e,n=T.value.trim().slice(0,e),o=T.value.trim().slice(10-t);document.querySelector(".p1-label").textContent=n,document.querySelector(".p2-label").textContent=o}}else{for(let e=0;e<t.length;e++)if(t[e].offsetParent&&!t[e].classList.contains("rel")){let n=t[e].textContent,o=t[e].dataset.command,l=T.value.trim();T.value.toLowerCase().indexOf("xpath")!==T.value.toLowerCase().lastIndexOf("xpath")&&(l=T.value.trim().replace(/xpath/i,o));let a=await extractAllCommands(l.replace(/”|“/g,'"'),n.replace(/”|“/g,'"'));a[0]&&(t[e].textContent=a[0][1])}n.offsetParent&&(document.querySelector(".p1-label").textContent="",document.querySelector(".p2-label").textContent="")}}J.addEventListener("click",(async function(){if("hidden"===T.style.visibility){if(document.querySelector("#selectorHeader").textContent="Command",T.value.toLowerCase().includes("xpathvalue")&&(this.classList.remove("inactive"),this.classList.add("active")),this.style.backgroundImage="url('../assets/addPrefix_blue.svg')",T.style.visibility="visible",T.value.toLowerCase().includes("xpathvalue")){if(R.classList.contains("defaultSmartMaintenance")){let e=T.value.split('"')[0];!a[0]||a[0].XPath.includes(e)||a[0].XPath.toLowerCase().includes(e)||appendRows(a=a.map(e=>({Step:e.Step,XPath:T.value.trim().replace(/xpathvalue/i,e.XPath)})),!0)}else if(N.classList.contains("red")){let e=T.value.split('"')[0];s[0]&&!s[0].selector.includes(e)&&updateCPSteps(s=s.map(e=>({label:e.label,selector:T.value.trim().replace(/xpathvalue/i,e.selector)})))}P.offsetParent&&T.value.toLowerCase().includes("xpathvalue")&&removeAttrCommands(!0)}T.value.toLowerCase().includes("xpathvalue")||(T.classList.add("wrongXpath"),document.querySelector(".helpIcon").style.visibility="visible")}else{if(document.querySelector("#selectorHeader").textContent="XPath",this.classList.remove("active"),this.classList.add("inactive"),this.style.backgroundImage="url('../assets/addPrefix_"+p+".svg')",T.style.visibility="hidden",T.value.toLowerCase().includes("xpathvalue")){if(R.classList.contains("defaultSmartMaintenance")){let e=a.map(e=>e.XPath),t=await extractAllCommands(T.value.trim(),e.join(""));appendRows(a=a.map((e,n)=>({label:e.label,XPath:t[n][1]})),!0)}else N.classList.contains("red")&&updateCPSteps(s=r.map((e,t)=>({label:e.label,selector:e.selector})));P.offsetParent&&removeAttrCommands(!1)}document.querySelector(".helpIcon").style.visibility="hidden"}}));var Y=document.querySelector(".setting_btn"),Z=document.querySelector(".attributeOption"),Q;function updateTotalRowsCount(){var e=document.querySelector(".selectorsCount"),t=document.querySelectorAll("tr").length-2;document.querySelector(".tablePlaceholder").style.display=t>0?"none":"",e.innerText="("+t+")"}function showCopied(){var e="",t=event.target.className,n=document.querySelector(".popuptext");n.textContent=t.includes("header")?"box value is copied":t.includes("iframe")?"iframe XPath is copied":t.includes("suggested")?"CP suggested XPath is copied":t.includes("rel")?"Rel XPath is copied":t.includes("id")?"id is copied":t.includes("name")?"name is copied":t.includes("tagName")?"tagName is copied":t.includes("class")?"className is copied":t.includes("abs")?"Abs XPath is copied":t.includes("css")?"copied cssSelector":t.includes("linkText")?"copied linkText":t.includes("partialLinkText")?"copied partialLinkText":"copied selector's value",event.target.id.includes("row-copy-btn")?(n.style.right="62px",e=event.target.parentNode.offsetTop+87):event.target.className.includes("copyAllButton")?(n.style.left="216px",e="130px"):(e=(e=event.target.offsetTop+1)>156?156:e,n.style.left="24px"),n.classList.add("show"),n.style.top=e,setTimeout((function(){n.classList.remove("show"),n.style.left="",n.style.right=""}),500)}function setWidthOfSelectorHeader(){setTimeout((function(){for(var e=1,t=document.querySelectorAll(".numberOfMatchingNodes"),n=0;n<t.length;n++)e=t[n].textContent.length>e?t[n].textContent.length:e;for(var n=0;n<t.length;n++)document.querySelectorAll(".matchingNodesContainer")[n].style.width=3===e?"35px":4===e?"41px":5===e?"47px":"26px"}),150)}window.onclick=function(e){setElementContainerHeight(),setWidthOfSelectorHeader();for(var t=document.querySelectorAll("td"),n=0;n<t.length;n++)t[n].scrollLeft=0},record.addEventListener("click",(function(){n?i.postMessage({name:"active",tabId:chrome.devtools.inspectedWindow.tabId,index:null}):(this.classList.add("redBlink"),i.postMessage({name:"openRecorder",tabId:chrome.devtools.inspectedWindow.tabId,index:null}))})),document.querySelector(".reset-btn").addEventListener("click",(function(){b.checked=!0,S.checked=!0,k.checked=!0,w.checked=!0,q.value="",L.checked=!0,T.value='driver.findElement(By.xpath("xpathvalue"))',onUpdateCommand(),chrome.storage.local.set({classChecked:!0},(function(){})),chrome.storage.local.set({nameChecked:!0},(function(){})),chrome.storage.local.set({placeholderChecked:!0},(function(){})),chrome.storage.local.set({idChecked:!0},(function(){})),chrome.storage.local.set({textCheckboxChecked:!0},(function(){})),chrome.storage.local.set({userAttrName:q.value.trim()},(function(){})),chrome.storage.local.set({preCommandValue:T.value},(function(){}))}));var ee=document.querySelector(".openModal"),te=document.querySelector(".importButton"),ne=document.getElementById("modalClose"),oe=document.getElementById("modal-cancel"),le=document.getElementById("btn-submit"),ae=document.getElementById("commandValidation"),ce=document.getElementById("customCommand"),re=document.getElementById("changeIconButton"),X;function openDataUploadModal(){var e;chrome.storage.local.get(["preCommandValue"],(function(e){ce.value=null==e.preCommandValue?'driver.findElement(By.xpath("xpathvalue"))':e.preCommandValue})),le.textContent="Ok",o=!1,document.getElementById("enterNewTitle").style.display="block",document.getElementById("imgupload").style.display="none",document.getElementById("addNewTitle").textContent="Enter selectors page or complete script",document.getElementById("btn-submit").classList.add("submit-case"),document.getElementById("btn-submit").classList.remove("submit-case"),document.getElementById("addNewModal").style.display="block",document.getElementById("enterNewTitle").focus(),document.getElementById("enterNewTitle").value="",checkXpathInputCommand()}function closeAddNewModal(){var e;document.getElementById("addNewModal").style.display="none"}function extractXpath(e,t){if(t){var n=t.toLowerCase().indexOf("xpathvalue");if(n<0)return null;var o=t.length-n;return e.slice(n,10-o)}return e}function escapeRegExp(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function findMatches(e,t,n=[]){const o=e.exec(t);return o&&n.push(o)&&findMatches(e,t,n),n}function extractAllCommands(e,t){try{return new Promise((n,o)=>{if(e){var l=e.toLowerCase().indexOf("xpathvalue"),a=e.length-l,c=escapeRegExp(e.slice(0,l)),r=escapeRegExp(e.slice(10-a));let o;const s=findMatches(new RegExp(c+"(.*?)"+r,"gi"),t);n(s)}})}catch(e){rej(e)}}function clearInputField(e){ae.style.display="none",chrome.storage.local.set({preCommandValue:e.target.value},(function(){})),this.value.toLowerCase().includes("xpathvalue")?this.value.toLowerCase().includes("xpathvalue")&&(ae.style.display="none",this.classList.remove("wrongXpath"),this.style.backgroundColor="#FFF"):(ae.style.display="inline-block",this.classList.add("wrongXpath"),this.style.backgroundColor="#FF6347")}async function showXpaths(){if(N.className.includes("grey")||smartMaintenanceScreen(),!document.getElementById("inputToggle").classList.contains("active")||document.getElementById("customCommand").value.toLowerCase().includes("xpathvalue")){if((!document.getElementById("enterNewTitle").offsetParent||document.getElementById("enterNewTitle").value.length)&&(document.getElementById("customCommand").value.trim()||!document.getElementById("inputToggle").classList.contains("active"))){if(o)document.querySelector("#imgupload").click();else{let e=document.getElementById("enterNewTitle").value.replace(/”|“/g,'"'),t=document.getElementById("customCommand").value.trim().replace(/”|“/g,'"'),n;if(document.getElementById("inputToggle").classList.contains("inactive")){let t=e.trim().split(/\r?\n/).filter(e=>""!==e);a=t.map(e=>({Step:"-",XPath:e})),document.querySelector(".label-header").style.display="none",H.innerText="XPath",V.innerText=d,$.textContent="click to go back to default view",W.setAttribute("href","https://youtu.be/T2PtPbzaJws"),D.textContent="Smart Maintenance Tutorial",c=[...a],appendRows(a,!0)}else{let n=await extractAllCommands(t,e);if(n){let t=e.trim().split(/\r?\n/);a=n.map(e=>{let t;return{Step:"-",XPath:e[1]}}),document.querySelector(".label-header").style.display="none",H.innerText="XPath",V.innerText=d,$.textContent="click to go back to default view",W.setAttribute("href","https://youtu.be/T2PtPbzaJws"),D.textContent="Smart Maintenance Tutorial",c=[...a],appendRows(a,!0)}}e.value=""}closeAddNewModal()}}else ae.style.display="inline-block"}ee.addEventListener("click",openDataUploadModal),te.addEventListener("click",(function(){o=!0,openFileUploadModal()})),ne.addEventListener("click",(function(){closeAddNewModal()}),!1),oe.addEventListener("click",(function(){closeAddNewModal()}),!1),ce.addEventListener("keyup",clearInputField,!1),le.addEventListener("click",showXpaths,!1),(X=document.getElementById("inputToggle")).addEventListener("click",(function(){this.classList.contains("active")?(this.classList.remove("active"),this.classList.add("inactive"),document.getElementById("customCommand").style.display="none",ae.style.display="none"):(this.classList.remove("inactive"),this.classList.add("active"),document.getElementById("customCommand").style.display="block")}))}]);