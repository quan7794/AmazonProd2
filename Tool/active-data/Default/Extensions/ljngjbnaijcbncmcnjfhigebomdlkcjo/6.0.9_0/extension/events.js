!function(e){var t={};function __webpack_require__(a){if(t[a])return t[a].exports;var o=t[a]={i:a,l:!1,exports:{}};return e[a].call(o.exports,o,o.exports,__webpack_require__),o.l=!0,o.exports}__webpack_require__.m=e,__webpack_require__.c=t,__webpack_require__.d=function(e,t,a){__webpack_require__.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},__webpack_require__.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.t=function(e,t){if(1&t&&(e=__webpack_require__(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(__webpack_require__.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)__webpack_require__.d(a,o,function(t){return e[t]}.bind(null,o));return a},__webpack_require__.n=function(e){var t=e&&e.__esModule?function getDefault(){return e.default}:function getModuleExports(){return e};return __webpack_require__.d(t,"a",t),t},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=3)}({3:function(e,t){var a=document.getElementById("record"),o=document.getElementById("recordIconChange"),n=document.getElementById("records-grid"),l=document.getElementById("helperText"),c=document.getElementById("save_btn"),r=document.getElementById("inputToggle"),i=document.getElementById("xpathInput"),d=document.getElementById("clearTestCase"),s=document.getElementById("alwaysTop"),u=document.querySelector(".copyAllButton"),p=document.querySelector(".copyAllXpath"),h=document.querySelector(".copyAllData"),m=document.getElementById("toggleHeader"),f=document.querySelector("#downloadFileName"),v=document.querySelector(".idAttr"),b=document.querySelector(".classAttr"),y=document.querySelector(".nameAttr"),w=document.querySelector(".placeholder"),_=document.querySelector(".text-xpath"),x=document.querySelectorAll(".attributeChoice"),k;document.querySelector(".tablePlaceholder").innerText="1. Now keep performing your manual steps on your website.\r\n2. All your actions will be recorded here.\r\n3. For each step relative xpath will be generated along with driver command.\r\n4. You can update the driver command or turn off.\r\n5. Once you are done, save the test case or copy all rows by clicking on header copy icon.\r\n6. By default it will save file with First test case name but you can update this.";var C=!0,g=[],L="",q="",T="[, withid,withclass,withname,withplaceholder,withtext]",S=null,E="Anonymous";function displayRows(){n.innerHTML=null,document.querySelector(".tablePlaceholder").style.display="none";var e=Boolean(r.classList.contains("active"));if(g&&g.length){var t=command="";if(e&&i.value&&i.value.toLowerCase().includes("xpathvalue"))for(let e=0;e<g.length;e++){t=command="";let a=!1;g[e].relXpath&&g[e].relXpath.length&&(command=i.value.replace(/xpathvalue/i,g[e].relXpath),t=i.value.replace(/xpathvalue/i,`${g[e].relXpath}`)),i.value&&i.value.toLowerCase().includes("labelvalue")&&(a=!0),n.innerHTML+=`\n                <tr class="tableRow">\n                    <td class='fixedColumns'>\n                        <div class='tableData'>${e+1}</div>\n                    </td>    \n                    <td class='fixedColumns'>\n                        <div title="${g[e].step}" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" class='tableData allSteps'>${g[e].step}</div>\n                    </td>\n                    <td title="${g[e].dataText}" class='fixedColumns'>\n                        <div autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" class='tableData dataCol'>${g[e].dataText}</div>\n                    </td>\n                    <td class='fixedColumnsEven'>\n                        <div class="tableData xpathData" autocomplete="off" id="label-${e}" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" title="${command}">${t}</div>\n                    </td>\n                    <td id="actionCol">\n                        <button id='addStep'></button>\n                        <button id='delButton'></button>\n                    </td>\n                </tr>\n                `,a&&(document.querySelector(`#label-${e}`).textContent=t.replace(/labelvalue/i,toCamelCase(g[e].planeLabel)))}else for(let e=0;e<g.length;e++)n.innerHTML+=`\n                <tr class="tableRow">\n                    <td class='fixedColumns'>\n                        <div class='tableData'>${e+1}</div>\n                    </td>\n                    <td class='fixedColumns'>\n                        <div title="${g[e].step}" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" class='tableData allSteps'>${g[e].step}</div>\n                    </td>\n                    <td title="${g[e].dataText}" class='fixedColumns'>\n                        <div autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" class='tableData dataCol'>${g[e].dataText}</div>\n                    </td>\n                    <td class='fixedColumnsEven'>\n                        <div autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" title="${g[e].relXpath}" class="tableData xpathData xpathColor">${g[e].relXpath}</div>\n                    </td>\n                    <td id="actionCol">\n                        <button id='addStep'></button>\n                        <button id='delButton'></button>\n                    </td>\n                </tr>\n                `}clickCell(),0==g.length&&(document.querySelector(".tablePlaceholder").style.display="")}function toCamelCase(e){return e.replace(/_/g," ").replace(/\s(.)/g,(function(e){return e.toUpperCase()})).replace(/\s/g,"").replace(/^(.)/,(function(e){return e.toLowerCase()}))}function clickCell(){for(var e=document.getElementById("records-grid").rows,t=0;t<e.length;t++)e[t].cells[4].childNodes[3].addEventListener("click",(function(e){var t=this.parentNode.parentNode.rowIndex;g.splice(t-1,1),displayRows()})),e[t].cells[4].childNodes[1].addEventListener("click",(function(e){var t=this.parentNode.parentNode.rowIndex;g.splice(t,0,{step:"",relXpath:"",dataText:""}),displayRows()})),e[t].childNodes[7].addEventListener("input",(function(e){if(e.data){var t=this.parentNode.rowIndex;g[t-1].relXpath=this.innerText,this.childNodes[1].classList.remove("removeOutline")}else this.childNodes[1].classList.add("removeOutline")})),e[t].childNodes[3].addEventListener("input",(function(e){if(e.data){var t=this.parentNode.rowIndex;g[t-1].step=this.innerText,this.childNodes[1].classList.remove("removeOutline")}else this.childNodes[1].classList.add("removeOutline")})),e[t].childNodes[5].addEventListener("input",(function(e){if(e.data){var t=this.parentNode.rowIndex;g[t-1].dataText=this.innerText,this.childNodes[1].classList.remove("removeOutline")}else this.childNodes[1].classList.add("removeOutline")}))}function showSnackbar(e){let t=document.querySelector("#snackbar");t.innerText=e,t.className="show",setTimeout((function(){t.className=t.className.replace("show","")}),2e3)}function notifyMe(e,t){"granted"===Notification.permission&&(browser.notifications.create("",{type:"basic",iconUrl:"../icon.png",title:e,message:t}),browser.notifications.onClicked.addListener((function(e){window.focus()})))}function copyAllXpathToClipboard(){let e=document.createElement("textarea"),t;e.id="t",e.style.height=0,document.body.appendChild(e);for(var a=document.querySelectorAll(".xpathData"),o=0;o<a.length;o++)e.value=e.value+"\n"+a[o].innerText;document.querySelector("#t").select(),document.execCommand("copy"),document.body.removeChild(e)}function copyAllDataToClipboard(){let e=document.createElement("textarea"),t;e.id="t",e.style.height=0,document.body.appendChild(e);for(var a=document.querySelectorAll(".dataCol"),o=0;o<a.length;o++)e.value=e.value+"\n"+a[o].innerText;document.querySelector("#t").select(),document.execCommand("copy"),document.body.removeChild(e)}function copyAllRowsToClipboard(e){var t=document.querySelector(e);let a=document.createElement("textarea"),o;a.id="t",a.style.height=0,document.body.appendChild(a);for(var n=document.querySelectorAll(".allSteps"),l=0;l<n.length;l++)a.value=a.value+"\n"+n[l].innerText;document.querySelector("#t").select(),document.execCommand("copy"),document.body.removeChild(a)}function attributeChoicesOption(){var e=v.checked?"withid":"withoutid",t=b.checked?"withclass":"withoutclass",a=y.checked?"withname":"withoutname",o=w.checked?"withplaceholder":"withoutplaceholder",n=_.checked?"withtext":"withouttext";T=`,${e},${t},${a},${o},${n}`,browser.tabs.sendMessage(q,{attrArray:T})}function setAttr(e){v.checked=e.idChecked,b.checked=e.classChecked,y.checked=e.nameChecked,w.checked=e.placeholderChecked,_.checked=e.textChecked}function updateCPAttr(){browser.tabs.sendMessage(q,{name:"updateCPAttr",data:{idChecked:v.checked,classChecked:b.checked,nameChecked:y.checked,placeholderChecked:w.checked,textChecked:_.checked}})}chrome.runtime.onMessage.addListener((function(e,t,a){q=t.tab.id,e&&"windowEvent"===e.type&&C&&"Click on aTag"!==e.data&&(g.push({step:e.data,relXpath:e.relXpath,dataText:e.dataText,planeLabel:e.planeLabel}),displayRows(),notifyMe("ChroPath",e.data)),e&&"recorderAttr"===e.type&&setAttr(e.data),e&&"verification"===e.type&&C&&q&&browser.tabs.sendMessage(q,{openRecorder:!0})})),r.addEventListener("click",(function(){let e=document.querySelector(".inputFeildContainer"),t=document.querySelector("#updatetitle");this.classList.contains("active")?(this.classList.remove("active"),this.classList.add("inactive"),i.classList.add("hidden"),i.classList.remove("show"),this.title="click to enable custom xpath",l.innerText="Add custom driver command",m.innerText="Xpath",e.classList.remove("showElement"),e.classList.add("remove"),t.title="click to copy all xpaths"):(this.classList.remove("inactive"),this.classList.add("active"),this.title="click to disable custom xpath",i.classList.add("show"),i.classList.remove("hidden"),l.innerText="",m.innerText="Command",e.classList.add("showElement"),e.classList.remove("remove"),t.title="click to copy all commands"),displayRows()})),a.addEventListener("click",(function(e){C?(C=!1,o.className="fa fa-stop-circle",o.style.color="#fc5d5c",a.title="Click to start recording",q&&browser.tabs.sendMessage(q,{stopRecording:!0})):(C=!0,o.className="fa fa-pause-circle",o.style.color="#838383",a.title="Click to stop recording",q&&browser.tabs.sendMessage(q,{openRecorder:!0}))})),c.addEventListener("click",(function(e){if(g&&g.length){var t=[["Step","Data","XPath"]];let e=document.querySelectorAll(".allSteps"),n=document.querySelectorAll(".dataCol"),l=document.querySelectorAll(".xpathData"),c=g.map((t,a)=>({relXpath:l[a].innerText,dataText:n[a].innerText,step:e[a].innerText}));c=c.map(e=>[e.step,e.dataText,e.relXpath]);var a=t.concat(c),o=f.innerText.replace(/\s/g,"");browser.tabs.sendMessage(q,{type:"downloadReport",data:a,fileName:o||"testcase"})}else showSnackbar("No data to save")})),i.addEventListener("keyup",(function(e){if(L=e.target.value,13==e.keyCode){if(!this.value.toLowerCase().includes("xpathvalue"))return this.classList.add("wrongXpath"),void showSnackbar("xpathValue keyword should be there in the command.");displayRows(),updateCPAttr()}this.value.toLowerCase().includes("xpathvalue")?this.value.toLowerCase().includes("xpathvalue")&&this.classList.remove("wrongXpath"):this.classList.add("wrongXpath")})),window.onload=function(e){browser.tabs.query({}).then(e=>{e.forEach(async e=>{await browser.tabs.sendMessage(e.id,{openRecorder:!0})})})},window.onbeforeunload=function(e){browser.tabs.query({}).then(e=>{e.forEach(async e=>{await browser.tabs.sendMessage(e.id,{closed:!0})})}),window.removeEventListener("beforeunload")},d.addEventListener("click",(function(e){document.querySelector(".tablePlaceholder").style.display="",n.innerHTML=null,g=[]})),u.addEventListener("click",(function(){copyAllRowsToClipboard()})),p.addEventListener("click",(function(){copyAllXpathToClipboard()})),h.addEventListener("click",(function(){copyAllDataToClipboard()})),x.forEach(e=>{e.addEventListener("change",(function(){attributeChoicesOption(),updateCPAttr()}))})}});